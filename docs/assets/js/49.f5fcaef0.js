(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{531:function(s,a,t){"use strict";t.r(a);var e=t(4),n=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"docker磁盘空间管理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker磁盘空间管理"}},[s._v("#")]),s._v(" Docker磁盘空间管理")]),s._v(" "),t("blockquote",[t("p",[s._v("docker在服务器运行一段时间后，容器的缓存会导致系统存储空间占用严重。一般可以用 "),t("code",[s._v("du -hx --max-depth=1")]),s._v("命令确定大文件位置。")])]),s._v(" "),t("p",[s._v("Docker磁盘空间占用磁盘空间大，通过下面方法解决优化。")]),s._v(" "),t("ul",[t("li",[s._v("Docker数据的迁移")]),s._v(" "),t("li",[s._v("Docker占用的磁盘空间清理")])]),s._v(" "),t("h3",{attrs:{id:"_1、docker数据的迁移"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1、docker数据的迁移"}},[s._v("#")]),s._v(" 1、Docker数据的迁移")]),s._v(" "),t("ol",[t("li",[t("p",[s._v("在安装docker环境后，第一时间修改docker的默认存储位置")])]),s._v(" "),t("li",[t("p",[s._v("做数据迁移，转移到内存更大的磁盘中")])])]),s._v(" "),t("p",[t("strong",[s._v("操作步骤")])]),s._v(" "),t("ol",[t("li",[t("p",[s._v("停止docker服务")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("$ systemctl stop docker\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("在内存大的磁盘下新建一个docker的存储目录，可以通过"),t("code",[s._v("df -h")]),s._v(" 查看那个磁盘目录的内存大，这里我在home目录下创建"),t("code",[s._v("mkdir -p /home/data/docker/lib")])])]),s._v(" "),t("li",[t("p",[s._v("迁移"),t("code",[s._v("/var/lib/docker")]),s._v("文件下的内容到"),t("code",[s._v("/home/data/docker/lib")])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rsync")]),s._v(" -avz /var/lib/docker/  /home/data/docker/lib\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("配置 "),t("code",[s._v("/etc/systemd/system/docker.service.d/devicemapper.conf")]),s._v(" ,添加下面内容")]),s._v(" "),t("div",{staticClass:"language-tex line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-tex"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Service"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nExecStart=\nExecStart=/usr/bin/dockerd  --graph=/home/data/docker/lib\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("重启docker")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("$ systemctl daemon-reload\n$ systemctl restart docker\n$ systemctl "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" docker\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("确定配置是否生效 "),t("code",[s._v("docker info")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://gitee.com/zhengyanxiong/picture-bed/raw/master/img/image-20201027111157579.png",alt:"image-20201027111157579"}})])])]),s._v(" "),t("h3",{attrs:{id:"_2、docker占用的磁盘空间清理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2、docker占用的磁盘空间清理"}},[s._v("#")]),s._v(" 2、Docker占用的磁盘空间清理")]),s._v(" "),t("ol",[t("li",[t("p",[t("strong",[t("code",[s._v("docker system")]),s._v(" 命令")])]),s._v(" "),t("p",[s._v("通过 "),t("code",[s._v("docker system df")]),s._v(" 命令，类似于Linux上的df命令，用于查看Docker的磁盘使用情况")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@node1 ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker system df")]),s._v("\nTYPE                TOTAL               ACTIVE              SIZE                RECLAIMABLE\nImages              "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("64")]),s._v("                  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v("                  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(".66GB             "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(".431GB "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("55")]),s._v("%"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nContainers          "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("85")]),s._v("                  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("65")]),s._v("                  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(".334GB             "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("451")]),s._v(".9MB "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("33")]),s._v("%"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nLocal Volumes       "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("25")]),s._v("                  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v("                  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(".27GB             "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("103")]),s._v(".7kB "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("%"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nBuild Cache         "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("                   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("                   0B                  0B\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("p",[s._v("可以看到Docker 镜像占用了11.66GB，可回收6.43GB，Docker 容器占用1.33GB，可回收451.9MB")]),s._v(" "),t("p",[t("strong",[t("code",[s._v("docker system prune")]),s._v("命令")]),s._v(" ：用于清理磁盘，删除关闭的容器、无用的数据卷和网络，以及删除"),t("code",[s._v("dangling")]),s._v("镜像（无tag的镜像）")]),s._v(" "),t("p",[t("strong",[t("code",[s._v("docker system prune -a")]),s._v("命令")]),s._v("：清除的更加彻底，可以将没有容器使用的镜像都删除")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@node1 ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker system prune -a")]),s._v("\nWARNING"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" This will remove:\n  - all stopped containers\n  - all networks not used by at least one container\n  - all images without at least one container associated to them\n  - all build cache\n\nAre you sure you want to continue? "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("y/N"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" y\nDeleted Containers:\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("\nTotal reclaimed space: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(".606GB\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@node1 ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker system df")]),s._v("\nTYPE                TOTAL               ACTIVE              SIZE                RECLAIMABLE\nImages              "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v("                  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v("                  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(".549GB             "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("654")]),s._v(".4MB "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v("%"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nContainers          "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("70")]),s._v("                  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("65")]),s._v("                  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("891")]),s._v(".9MB             "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("782")]),s._v(".9kB "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("%"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nLocal Volumes       "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("25")]),s._v("                  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v("                  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(".27GB             "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("103")]),s._v(".7kB "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("%"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nBuild Cache         "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("    \n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br")])])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("手动清理Docker镜像/容器/数据卷")])]),s._v(" "),t("p",[s._v("删除所有关闭的容器："),t("code",[s._v("docker container prune")])]),s._v(" "),t("p",[s._v("删除所有dangling镜像："),t("code",[s._v('docker rmi $(docker images --filter "dangling=true" -q)')])]),s._v(" "),t("p",[s._v("删除所有dangling数据卷："),t("code",[s._v("docker volume rm $(docker volume ls -qf dangling=true)")])])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("限制容器日志的大小")])]),s._v(" "),t("p",[s._v("查看docker中日志的大小，一般在Linux系统下，docker容器日志一般在"),t("code",[s._v("/var/lib/docker/containers/container_id/")]),s._v("下面，但是如果docker做过数据迁移，必须以迁移的那个路径为标准。通过下边命令查看日志文件的大小")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("du")]),s._v(" -h --max-depth"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" *  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#可以查看当前目录下各文件、文件夹的大小。")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("du")]),s._v(" -h --max-depth"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" *  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#可以只显示直接子目录文件及文件夹大小统计值。")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("du")]),s._v(" –sh "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看指定目录的总大小。")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("可以通过"),t("code",[s._v("cat /dev/null >")]),s._v("  进行清空，不是"),t("code",[s._v("rm")])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /dev/null "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" /var/lib/docker/containers/容器id/容器id-json.log\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("这种方法治标不治本，过一段时间，日志文件还是会继续增大，所以可以通过设置Docker容器日志的大小，有以下两种方法：")]),s._v(" "),t("ul",[t("li",[s._v("设置一个容器的日志大小上限")]),s._v(" "),t("li",[s._v("全局设置")])]),s._v(" "),t("h4",{attrs:{id:"_1、设置一个容器的日志大小上限"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1、设置一个容器的日志大小上限"}},[s._v("#")]),s._v(" 1、设置一个容器的日志大小上限")]),s._v(" "),t("p",[s._v("通过配置容器的"),t("code",[s._v("docker-compose.yml")]),s._v("的"),t("code",[s._v("max-size")]),s._v("选项实现：")]),s._v(" "),t("div",{staticClass:"language-yml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-yml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("nginx")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" \n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("image")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" nginx"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("1.12.1 \n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("restart")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" always \n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("logging")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" \n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("driver")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"json-file"')]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("options")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" \n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("max-size")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"5g"')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("h4",{attrs:{id:"_2、全局设置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2、全局设置"}},[s._v("#")]),s._v(" 2、全局设置")]),s._v(" "),t("p",[s._v("在"),t("code",[s._v("/etc/docker/daemon.json")]),s._v("文件中添加下面内容")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v(" $ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /etc/docker/daemon.json\n "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"log-driver"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"json-file"')]),s._v(",\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"log-opts"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"max-size"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"500m"')]),s._v(", "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"max-file"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("p",[s._v("max-size=500m，意味着一个容器日志大小上限是500M，")]),s._v(" "),t("p",[s._v("max-file=3，意味着一个容器有三个日志，分别是id+.json、id+1.json、id+2.json")]),s._v(" "),t("p",[s._v("完成后，重启docker")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("$ systemctl daemon-reload\n$ systemcl restart docker\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("blockquote",[t("p",[s._v("注意：设置后,只对新添加的容器有效。")])])])])])}),[],!1,null,null,null);a.default=n.exports}}]);